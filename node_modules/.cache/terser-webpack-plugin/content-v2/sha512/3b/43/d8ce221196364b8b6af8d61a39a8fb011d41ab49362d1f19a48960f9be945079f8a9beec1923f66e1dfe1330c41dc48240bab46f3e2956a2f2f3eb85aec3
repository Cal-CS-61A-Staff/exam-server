{"code":"!function(e){var a={};function r(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=a,r.d=function(e,a,t){r.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,a){if(1&a&&(e=r(e)),8&a)return e;if(4&a&&\"object\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,\"default\",{enumerable:!0,value:e}),2&a&&\"string\"!=typeof e)for(var s in e)r.d(t,s,function(a){return e[a]}.bind(null,s));return t},r.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(a,\"a\",a),a},r.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},r.p=\"\",r(r.s=6)}([function(e,a){e.exports=React},function(e,a){e.exports=ReactBootstrap},function(e,a){e.exports=gapi},function(e,a){e.exports=fernet},function(e,a){e.exports=ReactDOM},function(e,a){throw new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/rahularya/PycharmProjects/robust-exams/js/Exam.js: Unexpected token (25:16)\\n\\n\u001b[0m \u001b[90m 23 | \u001b[39m                    \u001b[33m<\u001b[39m\u001b[33mdiv\u001b[39m dangerouslySetInnerHTML\u001b[33m=\u001b[39m{{ __html\u001b[33m:\u001b[39m question\u001b[33m.\u001b[39mhtml }} \u001b[33m/\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 24 | \u001b[39m                    \u001b[33m<\u001b[39m\u001b[33mForm\u001b[39m\u001b[33m.\u001b[39m\u001b[0m\\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 25 | \u001b[39m                \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mForm\u001b[39m\u001b[33m.\u001b[39m\u001b[33mLabel\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m    | \u001b[39m                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 26 | \u001b[39m            \u001b[33m<\u001b[39m\u001b[33m/\u001b[39m\u001b[33mForm\u001b[39m\u001b[33m>\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 27 | \u001b[39m        )\u001b[33m;\u001b[39m\u001b[0m\\n\u001b[0m \u001b[90m 28 | \u001b[39m    } \u001b[36melse\u001b[39m {\u001b[0m\\n    at Object._raise (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:742:17)\\n    at Object.raiseWithData (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:735:17)\\n    at Object.raise (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:729:17)\\n    at Object.unexpected (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:8757:16)\\n    at Object.jsxParseIdentifier (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4388:12)\\n    at Object.jsxParseElementName (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4418:31)\\n    at Object.jsxParseOpeningElementAt (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4495:22)\\n    at Object.jsxParseElementAt (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4528:33)\\n    at Object.jsxParseElementAt (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4544:32)\\n    at Object.jsxParseElementAt (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4544:32)\\n    at Object.jsxParseElement (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4602:17)\\n    at Object.parseExprAtom (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4609:19)\\n    at Object.parseExprSubscripts (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9602:23)\\n    at Object.parseMaybeUnary (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9582:21)\\n    at Object.parseExprOps (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9452:23)\\n    at Object.parseMaybeConditional (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9425:23)\\n    at Object.parseMaybeAssign (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9380:21)\\n    at Object.parseParenAndDistinguishExpression (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:10193:28)\\n    at Object.parseExprAtom (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9947:21)\\n    at Object.parseExprAtom (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:4614:20)\\n    at Object.parseExprSubscripts (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9602:23)\\n    at Object.parseMaybeUnary (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9582:21)\\n    at Object.parseExprOps (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9452:23)\\n    at Object.parseMaybeConditional (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9425:23)\\n    at Object.parseMaybeAssign (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9380:21)\\n    at Object.parseExpression (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:9332:23)\\n    at Object.parseReturnStatement (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11448:28)\\n    at Object.parseStatementContent (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11129:21)\\n    at Object.parseStatement (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11081:17)\\n    at Object.parseBlockOrModuleBlockBody (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11656:25)\\n    at Object.parseBlockBody (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11642:10)\\n    at Object.parseBlock (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11626:10)\\n    at Object.parseStatementContent (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11157:21)\\n    at Object.parseStatement (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11081:17)\\n    at Object.parseIfStatement (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11433:28)\\n    at Object.parseStatementContent (/Users/rahularya/PycharmProjects/robust-exams/node_modules/@babel/parser/lib/index.js:11126:21)\")},function(e,a,r){\"use strict\";r.r(a);var t=r(0),s=r.n(t),n=r(4),o=r(1),l=r(2),m=r(5),c=r.n(m),u=r(3);function b({text:e}){return s.a.createElement(\"div\",{style:{color:\"red\"}},e)}function i({encryptedExam:e,onDecrypt:a}){const[r,n]=Object(t.useState)(\"\"),[l,m]=Object(t.useState)(\"\");return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.InputGroup,{className:\"mb-3\"},s.a.createElement(o.FormControl,{value:r,onChange:e=>n(e.target.value)})),s.a.createElement(o.Button,{variant:\"primary\",type:\"submit\",onClick:()=>{try{const t=new u.Secret(r),s=new u.Token({secret:t,token:e,ttl:0});a(JSON.parse(s.decode()))}catch{m(\"Wrong password! (or other decryption error)\")}}},\"Decrypt\"),s.a.createElement(b,{text:l}))}function d({token:e,exam:a,onReceive:r}){const[n,l]=Object(t.useState)(!1),[m,c]=Object(t.useState)(\"\");return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.Button,{variant:\"primary\",onClick:async()=>{l(!0),c(\"\");const t=await fetch(\"/exam-server/get_exam\",{method:\"POST\",cache:\"no-cache\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({token:e,exam:a})});t.ok||c(`\\n                The exam server failed with error ${t.status}. Please try again. \\n                If this error persists, contact your course staff or use the alternative exam medium.\\n            `);const s=await t.json();s.success||c(\"\\n                The exam server responded but did not produce a valid exam. Please try again. \\n                If this error persists, contact your course staff or use the alternative exam medium.\\n            \"),r(s),l(!1)},disabled:n},n&&s.a.createElement(o.Spinner,{as:\"span\",animation:\"border\",size:\"sm\",role:\"status\",\"aria-hidden\":\"true\",style:{marginRight:10}}),\"Generate Exam\"),s.a.createElement(b,{text:m}))}function j({onSuccess:e}){return Object(t.useEffect)(()=>{l.signin2.render(\"signInButton\",{width:200,longtitle:!0,onSuccess:a=>{e(a.getBasicProfile().getEmail(),a.getAuthResponse().id_token)}})},[]),s.a.createElement(s.a.Fragment,null,\"First, sign into Google.\",s.a.createElement(\"div\",{id:\"signInButton\",className:\"g-signin2\",\"data-onsuccess\":\"onSignIn\",\"data-theme\":\"dark\"}))}function p(){const[e,a]=Object(t.useState)(\"localhost\"===window.location.hostname?\"rahularya@berkeley.edu\":\"\"),[r,n]=Object(t.useState)(null),[m,u]=Object(t.useState)(\"\"),[b,p]=Object(t.useState)(null),[x,y]=Object(t.useState)(null);return s.a.createElement(o.Container,null,s.a.createElement(o.Row,null,s.a.createElement(o.Col,null,s.a.createElement(\"h1\",null,\"CS 61A Final Exam\"))),s.a.createElement(o.Row,null,s.a.createElement(o.Col,null,!e&&s.a.createElement(j,{onSuccess:(e,r)=>{a(e),n(r)}}),e&&s.a.createElement(s.a.Fragment,null,\"You have signed in as\",\" \",s.a.createElement(\"b\",null,e),\".\",\" \",s.a.createElement(\"a\",{href:\"#\",onClick:e=>{e.preventDefault(),a(\"\"),n(null),l.auth2.getAuthInstance().signOut(),window.location.reload()}},\"Log out\"),\" \",\"if this is not the right account.\"))),e&&!b&&s.a.createElement(s.a.Fragment,null,s.a.createElement(\"br\",null),s.a.createElement(o.Row,null,s.a.createElement(o.Col,null,s.a.createElement(o.Form,null,s.a.createElement(o.Form.Group,{controlId:\"exampleForm.SelectCustom\"},s.a.createElement(o.Form.Label,null,\"Now, choose your exam:\"),s.a.createElement(o.Form.Control,{as:\"select\",value:m,onChange:e=>{u(e.target.value),p(null)},custom:!0},s.a.createElement(\"option\",{hidden:!0,disabled:!0,selected:!0,value:\"\"},\"Select an exam\"),s.a.createElement(\"option\",null,\"cs61a-exam-test\"),s.a.createElement(\"option\",null,\"cs61a-final-monday\"),s.a.createElement(\"option\",null,\"cs61a-final-wednesday\"),s.a.createElement(\"option\",null,\"cs61a-final-friday\"))))))),m&&!b&&s.a.createElement(o.Row,null,s.a.createElement(o.Col,null,s.a.createElement(\"p\",null,\"You have selected the exam\",\" \",s.a.createElement(\"b\",null,m),\". If this does not look correct, please re-select your exam.\"),s.a.createElement(\"p\",null,\"Otherwise, click the button to generate your exam. You can do this before the exam starts.\"),s.a.createElement(d,{token:r,exam:m,onReceive:({exam:e,payload:a})=>{u(e),p(a)}}))),s.a.createElement(\"br\",null),b&&s.a.createElement(o.Row,null,s.a.createElement(o.Col,null,s.a.createElement(\"p\",null,\"The\",\" \",s.a.createElement(\"b\",null,m),\" \",\"exam has successfully been downloaded! Enter the password distributed by course staff to decrypt it and start the exam.\"),s.a.createElement(i,{encryptedExam:b,onDecrypt:y}))),s.a.createElement(\"br\",null),x&&s.a.createElement(c.a,{exam:x,token:r}))}Object(n.render)(s.a.createElement(p,null),document.querySelector(\"#root\"))}]);","extractedComments":[]}